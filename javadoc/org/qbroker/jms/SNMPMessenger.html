<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Sat Jun 02 21:51:41 EDT 2018 -->
<title>SNMPMessenger</title>
<meta name="date" content="2018-06-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SNMPMessenger";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/jms/SFTPMessenger.html" title="class in org.qbroker.jms"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/jms/TConnector.html" title="class in org.qbroker.jms"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/jms/SNMPMessenger.html" target="_top">Frames</a></li>
<li><a href="SNMPMessenger.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.qbroker.net.SNMPConnector">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qbroker.jms</div>
<h2 title="Class SNMPMessenger" class="title">Class SNMPMessenger</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../org/qbroker/net/SNMPConnector.html" title="class in org.qbroker.net">org.qbroker.net.SNMPConnector</a></li>
<li>
<ul class="inheritance">
<li>org.qbroker.jms.SNMPMessenger</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/qbroker/common/Connector.html" title="interface in org.qbroker.common">Connector</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">SNMPMessenger</span>
extends <a href="../../../org/qbroker/net/SNMPConnector.html" title="class in org.qbroker.net">SNMPConnector</a></pre>
<div class="block">SNMPMessenger handles JMS Messages IO on SNMP resources.  The SNMP env
 has to be established before using this object.  Due to SNMP4J, it
 requires Java 1.4 or above.
<br/><br/>
 There are four methods, listen(), talk(), inquire() and reply() on packets.
 The method of listen() is NOT MT-Safe.  The method of talk() is for
 asynchronous output whereas inquire() is for synchronous requests.
<br/><br/>
 In case of charSet and encoding, you can overwrite the default encoding by
 starting JVM with "-Dfile.encoding=ISO8859_1 your_class".
<br/></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>yannanlu@yahoo.com</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.qbroker.net.SNMPConnector">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.qbroker.net.<a href="../../../org/qbroker/net/SNMPConnector.html" title="class in org.qbroker.net">SNMPConnector</a></h3>
<code><a href="../../../org/qbroker/net/SNMPConnector.html#ADDRESS">ADDRESS</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#agentAddress">agentAddress</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#agentName">agentName</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#BITSTRING">BITSTRING</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#community">community</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#comTarget">comTarget</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#COUNTER32">COUNTER32</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#DECIMALSTRING">DECIMALSTRING</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#enterpriseOID">enterpriseOID</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#HEXSTRING">HEXSTRING</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#hostIP">hostIP</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#hostname">hostname</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#INTEGER32">INTEGER32</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#NULL">NULL</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#OIDSTRING">OIDSTRING</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#port">port</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#retry">retry</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmp">snmp</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#startTime">startTime</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#STRING">STRING</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#timeout">timeout</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#TIMETICKS">TIMETICKS</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#transport">transport</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#UNSIGN32">UNSIGN32</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#uri">uri</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/qbroker/jms/SNMPMessenger.html#SNMPMessenger(java.util.Map)">SNMPMessenger</a></strong>(java.util.Map&nbsp;props)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/jms/SNMPMessenger.html#getOperation()">getOperation</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/jms/SNMPMessenger.html#inquire(org.qbroker.common.XQueue)">inquire</a></strong>(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)</code>
<div class="block">It continually gets a JMS Message with an SNMP request from the XQueue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/jms/SNMPMessenger.html#listen(org.qbroker.common.XQueue)">listen</a></strong>(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)</code>
<div class="block">It listens to the DatagramSocket for incoming SNMP packets.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/jms/SNMPMessenger.html#send(org.qbroker.common.XQueue)">send</a></strong>(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)</code>
<div class="block">It continually gets a JMS Message from the XQueue, sends its content
 and its OID to an SNMP manager.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.qbroker.net.SNMPConnector">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.qbroker.net.<a href="../../../org/qbroker/net/SNMPConnector.html" title="class in org.qbroker.net">SNMPConnector</a></h3>
<code><a href="../../../org/qbroker/net/SNMPConnector.html#close()">close</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#getDefaultVersion()">getDefaultVersion</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#getTarget(int, int, int, java.lang.String, java.lang.String)">getTarget</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#getURI()">getURI</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#isConnected()">isConnected</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#isListening()">isListening</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#main(java.lang.String[])">main</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#receive()">receive</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#receive(java.net.DatagramPacket)">receive</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#reconnect()">reconnect</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#sendTrap(org.snmp4j.CommunityTarget, java.lang.String, int, int, java.lang.String[][])">sendTrap</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpGet(org.snmp4j.CommunityTarget, java.lang.String)">snmpGet</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpInquire(int, java.lang.String, java.lang.String, java.lang.String)">snmpInquire</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpNotify(org.snmp4j.CommunityTarget, java.lang.String[][])">snmpNotify</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpNotify(int, java.lang.String, java.lang.String, java.lang.String[][])">snmpNotify</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpSet(org.snmp4j.CommunityTarget, java.lang.String[])">snmpSet</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpSet(int, java.lang.String, java.lang.String, java.lang.String[])">snmpSet</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpSet(java.lang.String, int)">snmpSet</a>, <a href="../../../org/qbroker/net/SNMPConnector.html#snmpTrap(int, java.lang.String, java.lang.String, java.lang.String, int, int, java.lang.String[][])">snmpTrap</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SNMPMessenger(java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SNMPMessenger</h4>
<pre>public&nbsp;SNMPMessenger(java.util.Map&nbsp;props)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="listen(org.qbroker.common.XQueue)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listen</h4>
<pre>public&nbsp;void&nbsp;listen(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)
            throws java.io.IOException,
                   javax.jms.JMSException</pre>
<div class="block">It listens to the DatagramSocket for incoming SNMP packets.  Once
 receiving an SNMP packet, it loads the payload of the packet to a
 JMSMessage and puts it to the XQueue as output.
<br/><br/>
 Most of the IOExceptions from the stream IO operations, like receive,
 will be thrown to notify the caller.  The caller is supposed to catch
 the exception, either to reset the socket or to do other stuff.
 It also throws JMSException from the operations regarding to the message
 itself, like get/set JMS properties.  This does not require to reset
 the socket at all.
<br/><br/>
 This method is NOT MT-Safe.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>javax.jms.JMSException</code></dd></dl>
</li>
</ul>
<a name="inquire(org.qbroker.common.XQueue)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inquire</h4>
<pre>public&nbsp;void&nbsp;inquire(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)
             throws java.io.IOException,
                    javax.jms.JMSException</pre>
<div class="block">It continually gets a JMS Message with an SNMP request from the XQueue.
 Then it sends the request to the destination and waits for the response.
 Once response is back, it puts the content back to the message and
 removes the message from the XQueue.
<br/><br/>
 Most of the IOExceptions from the packet IO operations, like send,
 will be thrown to notify the caller.  The caller is supposed to catch
 the exception, either to reset the socket or to do other stuff.
 It also throws JMSException from the operations regarding to the message
 itself, like get/set JMS properties.  This does not require to reset
 the socket at all.
<br/><br/>
 Since the inquire operation relies on a request, this method will
 intercept the request and process it.  The incoming message is required
 to be writeable.  The method will set a String property of the message
 specified by the RCField with the return code, indicating the status
 of the process to fulfill the request.  The requester is required to
 check the value of the property once it gets the message back.  If
 the return code is 0, the inquirey is successful.  This method will
 not acknowledge messages.  It is up to the requester to do that.
<br/><br/>
 This method is NOT MT-Safe.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>javax.jms.JMSException</code></dd></dl>
</li>
</ul>
<a name="send(org.qbroker.common.XQueue)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;void&nbsp;send(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)
          throws java.io.IOException,
                 javax.jms.JMSException</pre>
<div class="block">It continually gets a JMS Message from the XQueue, sends its content
 and its OID to an SNMP manager.
<br/><br/>
 Most of the IOExceptions from the packet IO operations, like send,
 will be thrown to notify the caller.  The caller is supposed to catch
 the exception, either to reset the socket or to do other stuff.
 It also throws JMSException from the operations regarding to the message
 itself, like get/set JMS properties.  This does not require to reset
 the socket at all.
<br/><br/>
 It will not modify the original messages.  If the XQueue has enabled
 the EXTERNAL_XA, it will also acknowledge every messages.  This method
 is MT-Safe.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>javax.jms.JMSException</code></dd></dl>
</li>
</ul>
<a name="getOperation()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getOperation</h4>
<pre>public&nbsp;java.lang.String&nbsp;getOperation()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/jms/SFTPMessenger.html" title="class in org.qbroker.jms"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/jms/TConnector.html" title="class in org.qbroker.jms"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/jms/SNMPMessenger.html" target="_top">Frames</a></li>
<li><a href="SNMPMessenger.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.qbroker.net.SNMPConnector">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
