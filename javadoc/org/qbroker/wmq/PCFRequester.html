<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Sun Jun 11 07:39:11 EDT 2017 -->
<title>PCFRequester</title>
<meta name="date" content="2017-06-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PCFRequester";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/wmq/OAMSecurityExit.html" title="class in org.qbroker.wmq"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/wmq/QConnector.html" title="class in org.qbroker.wmq"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/wmq/PCFRequester.html" target="_top">Frames</a></li>
<li><a href="PCFRequester.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qbroker.wmq</div>
<h2 title="Class PCFRequester" class="title">Class PCFRequester</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.qbroker.wmq.PCFRequester</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/qbroker/common/Connector.html" title="interface in org.qbroker.common">Connector</a>, <a href="../../../org/qbroker/common/Requester.html" title="interface in org.qbroker.common">Requester</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">PCFRequester</span>
extends java.lang.Object
implements <a href="../../../org/qbroker/common/Requester.html" title="interface in org.qbroker.common">Requester</a></pre>
<div class="block">PCFRequester connects to the admin service of a WebSphere MQ queue manager
 for PCF requests. Currently, it supports the method of display only.
 This is NOT MT-Safe due to IBM's implementation on sessions and conn.
<br/></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>yannanlu@yahoo.com</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#PCFRequester(java.util.Map)">PCFRequester</a></strong>(java.util.Map&nbsp;props)</code>
<div class="block">Creates new PCFRequester</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#close()">close</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#display(org.qbroker.common.XQueue)">display</a></strong>(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)</code>
<div class="block">It listens to an XQueue for incoming JMS messages and extracts the PCF
 request from each message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#getCategory(java.lang.String)">getCategory</a></strong>(java.lang.String&nbsp;cmd)</code>
<div class="block">returns the category of the target in the PCF command</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#getCategoryID(java.lang.String)">getCategoryID</a></strong>(java.lang.String&nbsp;category)</code>
<div class="block">returns the id of the category in the PCF command</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#getResponse(java.lang.String, java.lang.StringBuffer, boolean)">getResponse</a></strong>(java.lang.String&nbsp;pcfCmd,
           java.lang.StringBuffer&nbsp;strBuf,
           boolean&nbsp;autoDisconn)</code>
<div class="block">This sends a request to the destination and returns the number of items
 filled in the given string buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#getTarget(java.lang.String)">getTarget</a></strong>(java.lang.String&nbsp;cmd)</code>
<div class="block">returns the name of the target in the PCF command</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#getType(java.lang.String)">getType</a></strong>(java.lang.String&nbsp;cmd)</code>
<div class="block">returns the type of the target in the PCF command</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#getTypeID(int, java.lang.String)">getTypeID</a></strong>(int&nbsp;cid,
         java.lang.String&nbsp;type)</code>
<div class="block">returns the type id of the target in the PCF command</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#getURI()">getURI</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#isConnected()">isConnected</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/wmq/PCFRequester.html#reconnect()">reconnect</a></strong>()</code>
<div class="block">reconnects and returns null upon success or error msg otherwise</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PCFRequester(java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PCFRequester</h4>
<pre>public&nbsp;PCFRequester(java.util.Map&nbsp;props)</pre>
<div class="block">Creates new PCFRequester</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="reconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reconnect</h4>
<pre>public&nbsp;java.lang.String&nbsp;reconnect()</pre>
<div class="block">reconnects and returns null upon success or error msg otherwise</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/qbroker/common/Connector.html#reconnect()">reconnect</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/common/Connector.html" title="interface in org.qbroker.common">Connector</a></code></dd>
</dl>
</li>
</ul>
<a name="display(org.qbroker.common.XQueue)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>display</h4>
<pre>public&nbsp;void&nbsp;display(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)
             throws javax.management.JMException,
                    <a href="../../../org/qbroker/common/TimeoutException.html" title="class in org.qbroker.common">TimeoutException</a></pre>
<div class="block">It listens to an XQueue for incoming JMS messages and extracts the PCF
 request from each message.  After the creating a PCF Message for the
 request, it sends the message to the queue manager as a query and waits
 for the response back. The response will be loaded into body of the
 request message according to the result type, similar to a DB qurey.
<br/><br/>
 It also supports the dynamic content filter and the formatter on queried
 messages. The filter and the formatter are defined via a JSON text with
 Ruleset defined as a list. The JSON text is stored in the body of the
 request message. If the filter is defined, it will be used to select
 certain messages based on the content and the header. If the formatter
 is defined, it will be used to format the messages.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>javax.management.JMException</code></dd>
<dd><code><a href="../../../org/qbroker/common/TimeoutException.html" title="class in org.qbroker.common">TimeoutException</a></code></dd></dl>
</li>
</ul>
<a name="getResponse(java.lang.String, java.lang.StringBuffer, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResponse</h4>
<pre>public&nbsp;int&nbsp;getResponse(java.lang.String&nbsp;pcfCmd,
              java.lang.StringBuffer&nbsp;strBuf,
              boolean&nbsp;autoDisconn)
                throws <a href="../../../org/qbroker/common/WrapperException.html" title="class in org.qbroker.common">WrapperException</a></pre>
<div class="block">This sends a request to the destination and returns the number of items
 filled in the given string buffer. The content in the string buffer
 is a JSON. If the disconnect flag is set to true, it disconnects right
 before it returns. Otherwise, it will keep the connection.
<br/></br/>
 In case of a fatal failure, it disconnects first and then throws a
 WrapperException with cause set to the vendor specific exception or IO
 related exception. Therefore please make sure to get the cause exception
 from it and handles the cause exception with care. For other failures,
 it throws an IllegalArgumentException. If the disconnect flag is set to
 true, it disconnects right before it throws the exception.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/qbroker/common/Requester.html#getResponse(java.lang.String, java.lang.StringBuffer, boolean)">getResponse</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/common/Requester.html" title="interface in org.qbroker.common">Requester</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/qbroker/common/WrapperException.html" title="class in org.qbroker.common">WrapperException</a></code></dd></dl>
</li>
</ul>
<a name="getTypeID(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTypeID</h4>
<pre>public static&nbsp;int&nbsp;getTypeID(int&nbsp;cid,
            java.lang.String&nbsp;type)</pre>
<div class="block">returns the type id of the target in the PCF command</div>
</li>
</ul>
<a name="getType(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getType</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getType(java.lang.String&nbsp;cmd)</pre>
<div class="block">returns the type of the target in the PCF command</div>
</li>
</ul>
<a name="getCategoryID(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCategoryID</h4>
<pre>public static&nbsp;int&nbsp;getCategoryID(java.lang.String&nbsp;category)</pre>
<div class="block">returns the id of the category in the PCF command</div>
</li>
</ul>
<a name="getCategory(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCategory</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getCategory(java.lang.String&nbsp;cmd)</pre>
<div class="block">returns the category of the target in the PCF command</div>
</li>
</ul>
<a name="getTarget(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTarget</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getTarget(java.lang.String&nbsp;cmd)</pre>
<div class="block">returns the name of the target in the PCF command</div>
</li>
</ul>
<a name="isConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;isConnected()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/qbroker/common/Connector.html#isConnected()">isConnected</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/common/Connector.html" title="interface in org.qbroker.common">Connector</a></code></dd>
</dl>
</li>
</ul>
<a name="getURI()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getURI</h4>
<pre>public&nbsp;java.lang.String&nbsp;getURI()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/qbroker/common/Connector.html#getURI()">getURI</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/common/Connector.html" title="interface in org.qbroker.common">Connector</a></code></dd>
</dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/qbroker/common/Connector.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/common/Connector.html" title="interface in org.qbroker.common">Connector</a></code></dd>
</dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/wmq/OAMSecurityExit.html" title="class in org.qbroker.wmq"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/wmq/QConnector.html" title="class in org.qbroker.wmq"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/wmq/PCFRequester.html" target="_top">Frames</a></li>
<li><a href="PCFRequester.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
