<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Thu Aug 16 17:37:34 EDT 2018 -->
<title>JSONFilter</title>
<meta name="date" content="2018-08-16">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JSONFilter";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/json/JSON2Map.html" title="class in org.qbroker.json"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/json/JSONParser.html" title="class in org.qbroker.json"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/json/JSONFilter.html" target="_top">Frames</a></li>
<li><a href="JSONFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qbroker.json</div>
<h2 title="Class JSONFilter" class="title">Class JSONFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.qbroker.json.JSONFilter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/qbroker/common/Filter.html" title="interface in org.qbroker.common">Filter</a>&lt;java.util.Map&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">JSONFilter</span>
extends java.lang.Object
implements <a href="../../../org/qbroker/common/Filter.html" title="interface in org.qbroker.common">Filter</a>&lt;java.util.Map&gt;</pre>
<div class="block">JSONFilter is a client side filter with an internal formatter. The method
 of evaluate() returns true if the filter matches the JSON data. Otherwise,
 it returns false. The method of format is to format the JSON data with the
 internal formatter.
<br/><br/>
 The filter part contains two sets of EvalMaps. One set is for positive match
 to include certain patterns. The other set is for negtive match to exclude
 certain patterns. An EvalMap contains key-value pairs to supports 3 types of
 evaluations: Perl5 pattern match, number range testing and evaluations on
 variables. If a key is like "v:xxx:, the evaluation is on a variable where
 "xxx" is the json path and the value determines the operation. Currently,
 only "==" is supported. The dynamic value will be stored in parameter map at
 the key of "v:xxx". For keys without namespace, they are json paths to
 retrieve data to be evaluated. The value will be either a Perl5 Pattern or
 a list of number ranges.
<br/><br/>
 The template part supports JSONSection for keys with the namespace of "s:".
 In this case, the list of sections must be provided for the format method.
 The parameter map is supposed to contain the root JSON doc at the key of
 "r:_JSON_".
<br/><br/>
 It also supports the dynamic pattern or value for keys with the namespace
 of "v:". In this case, the parameter map is supposed to contain the
 value of the variable under the key of "v:xxx".
<br/></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>yannanlu@yahoo.com</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#JSONFilter(java.lang.String, java.util.Map)">JSONFilter</a></strong>(java.lang.String&nbsp;prefix,
          java.util.Map&nbsp;props)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#JSONFilter(java.lang.String, java.util.Map, org.apache.oro.text.regex.Perl5Compiler)">JSONFilter</a></strong>(java.lang.String&nbsp;prefix,
          java.util.Map&nbsp;props,
          org.apache.oro.text.regex.Perl5Compiler&nbsp;pc)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#clear()">clear</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#evaluate(java.util.List, java.util.Map)">evaluate</a></strong>(java.util.List&nbsp;json,
        java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</code>
<div class="block">It evaluates the JSON list data with the internal predefined filters
 and the given parameter map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#evaluate(long, java.util.Map)">evaluate</a></strong>(long&nbsp;tm,
        java.util.Map&nbsp;json)</code>
<div class="block">It evaluates the JSON map data with the internal predefined filters
 and returns true if there is a hit or false otherwise.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#evaluate(java.util.Map, java.util.Map)">evaluate</a></strong>(java.util.Map&nbsp;json,
        java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</code>
<div class="block">It evaluates the JSON map data with the internal predefined filters
 and the given parameter map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#evaluate(java.lang.String, java.util.Map)">evaluate</a></strong>(java.lang.String&nbsp;json,
        java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</code>
<div class="block">It evaluates the JSON text with the internal predefined filters
 and the given parameter map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#finalize()">finalize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#format(java.util.List, org.qbroker.common.AssetList, java.util.Map)">format</a></strong>(java.util.List&nbsp;json,
      <a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a>&nbsp;list,
      java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</code>
<div class="block">formats the JSON list with the predefined formatters, a given list of
 JSONSections and a given parameter map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#format(java.util.Map, org.qbroker.common.AssetList, java.util.Map)">format</a></strong>(java.util.Map&nbsp;json,
      <a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a>&nbsp;list,
      java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</code>
<div class="block">formats the JSON map with the predefined formatters, a given list of
 JSONSections and a given parameter map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#format(java.lang.String, org.qbroker.common.AssetList, java.util.Map)">format</a></strong>(java.lang.String&nbsp;json,
      <a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a>&nbsp;list,
      java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</code>
<div class="block">formats the JSON text with the predefined formatters, a given list of
 JSONSections and a given parameter map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#hasFormatter()">hasFormatter</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#hasSection()">hasSection</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="../../../org/qbroker/json/JSONFilter.html" title="class in org.qbroker.json">JSONFilter</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/json/JSONFilter.html#initFilters(java.lang.String, java.lang.String, java.util.Map)">initFilters</a></strong>(java.lang.String&nbsp;prefix,
           java.lang.String&nbsp;name,
           java.util.Map&nbsp;ph)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JSONFilter(java.lang.String, java.util.Map, org.apache.oro.text.regex.Perl5Compiler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JSONFilter</h4>
<pre>public&nbsp;JSONFilter(java.lang.String&nbsp;prefix,
          java.util.Map&nbsp;props,
          org.apache.oro.text.regex.Perl5Compiler&nbsp;pc)</pre>
</li>
</ul>
<a name="JSONFilter(java.lang.String, java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JSONFilter</h4>
<pre>public&nbsp;JSONFilter(java.lang.String&nbsp;prefix,
          java.util.Map&nbsp;props)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="format(java.util.Map, org.qbroker.common.AssetList, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>public&nbsp;java.lang.String&nbsp;format(java.util.Map&nbsp;json,
                      <a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a>&nbsp;list,
                      java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">formats the JSON map with the predefined formatters, a given list of
 JSONSections and a given parameter map. It returns formatted content
 upon success.</div>
</li>
</ul>
<a name="format(java.util.List, org.qbroker.common.AssetList, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>public&nbsp;java.lang.String&nbsp;format(java.util.List&nbsp;json,
                      <a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a>&nbsp;list,
                      java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">formats the JSON list with the predefined formatters, a given list of
 JSONSections and a given parameter map. It returns formatted content
 upon success.</div>
</li>
</ul>
<a name="format(java.lang.String, org.qbroker.common.AssetList, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>public&nbsp;java.lang.String&nbsp;format(java.lang.String&nbsp;json,
                      <a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a>&nbsp;list,
                      java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">formats the JSON text with the predefined formatters, a given list of
 JSONSections and a given parameter map. It returns formatted content
 upon success.</div>
</li>
</ul>
<a name="evaluate(long, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public&nbsp;boolean&nbsp;evaluate(long&nbsp;tm,
               java.util.Map&nbsp;json)</pre>
<div class="block">It evaluates the JSON map data with the internal predefined filters
 and returns true if there is a hit or false otherwise.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/qbroker/common/Filter.html#evaluate(long, T)">evaluate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/common/Filter.html" title="interface in org.qbroker.common">Filter</a>&lt;java.util.Map&gt;</code></dd>
</dl>
</li>
</ul>
<a name="evaluate(java.util.Map, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public&nbsp;boolean&nbsp;evaluate(java.util.Map&nbsp;json,
               java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">It evaluates the JSON map data with the internal predefined filters
 and the given parameter map. It returns true if there is a hit or
 false otherwise.</div>
</li>
</ul>
<a name="evaluate(java.util.List, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public&nbsp;boolean&nbsp;evaluate(java.util.List&nbsp;json,
               java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">It evaluates the JSON list data with the internal predefined filters
 and the given parameter map. It returns true if there is a hit or
 false otherwise.</div>
</li>
</ul>
<a name="evaluate(java.lang.String, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evaluate</h4>
<pre>public&nbsp;boolean&nbsp;evaluate(java.lang.String&nbsp;json,
               java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">It evaluates the JSON text with the internal predefined filters
 and the given parameter map. It returns true if there is a hit or
 false otherwise.</div>
</li>
</ul>
<a name="hasFormatter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasFormatter</h4>
<pre>public&nbsp;boolean&nbsp;hasFormatter()</pre>
</li>
</ul>
<a name="hasSection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasSection</h4>
<pre>public&nbsp;boolean&nbsp;hasSection()</pre>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
</li>
</ul>
<a name="finalize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>finalize</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="initFilters(java.lang.String, java.lang.String, java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initFilters</h4>
<pre>protected static&nbsp;<a href="../../../org/qbroker/json/JSONFilter.html" title="class in org.qbroker.json">JSONFilter</a>[]&nbsp;initFilters(java.lang.String&nbsp;prefix,
                       java.lang.String&nbsp;name,
                       java.util.Map&nbsp;ph)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/json/JSON2Map.html" title="class in org.qbroker.json"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/json/JSONParser.html" title="class in org.qbroker.json"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/json/JSONFilter.html" target="_top">Frames</a></li>
<li><a href="JSONFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
