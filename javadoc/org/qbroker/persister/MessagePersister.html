<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Sun Jun 11 07:39:11 EDT 2017 -->
<title>MessagePersister</title>
<meta name="date" content="2017-06-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MessagePersister";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/persister/MessageEvaluator.html" title="class in org.qbroker.persister"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/persister/MessageTerminator.html" title="class in org.qbroker.persister"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/persister/MessagePersister.html" target="_top">Frames</a></li>
<li><a href="MessagePersister.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qbroker.persister</div>
<h2 title="Interface MessagePersister" class="title">Interface MessagePersister</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/qbroker/persister/DocumentPersister.html" title="class in org.qbroker.persister">DocumentPersister</a>, <a href="../../../org/qbroker/persister/EventPersister.html" title="class in org.qbroker.persister">EventPersister</a>, <a href="../../../org/qbroker/persister/FilePersister.html" title="class in org.qbroker.persister">FilePersister</a>, <a href="../../../org/qbroker/persister/JDBCPersister.html" title="class in org.qbroker.persister">JDBCPersister</a>, <a href="../../../org/qbroker/persister/JMSPersister.html" title="class in org.qbroker.persister">JMSPersister</a>, <a href="../../../org/qbroker/persister/JMSPublisher.html" title="class in org.qbroker.persister">JMSPublisher</a>, <a href="../../../org/qbroker/persister/JMXPersister.html" title="class in org.qbroker.persister">JMXPersister</a>, <a href="../../../org/qbroker/persister/JobPersister.html" title="class in org.qbroker.persister">JobPersister</a>, <a href="../../../org/qbroker/persister/LogPersister.html" title="class in org.qbroker.persister">LogPersister</a>, <a href="../../../org/qbroker/persister/MessageEvaluator.html" title="class in org.qbroker.persister">MessageEvaluator</a>, <a href="../../../org/qbroker/persister/MessageTerminator.html" title="class in org.qbroker.persister">MessageTerminator</a>, <a href="../../../org/qbroker/persister/MonitorPersister.html" title="class in org.qbroker.persister">MonitorPersister</a>, <a href="../../../org/qbroker/persister/PacketPersister.html" title="class in org.qbroker.persister">PacketPersister</a>, <a href="../../../org/qbroker/persister/Persister.html" title="class in org.qbroker.persister">Persister</a>, <a href="../../../org/qbroker/persister/PersisterPool.html" title="class in org.qbroker.persister">PersisterPool</a>, <a href="../../../org/qbroker/persister/ReceiverPool.html" title="class in org.qbroker.persister">ReceiverPool</a>, <a href="../../../org/qbroker/persister/RedisPersister.html" title="class in org.qbroker.persister">RedisPersister</a>, <a href="../../../org/qbroker/persister/RMQPersister.html" title="class in org.qbroker.persister">RMQPersister</a>, <a href="../../../org/qbroker/persister/ServerPersister.html" title="class in org.qbroker.persister">ServerPersister</a>, <a href="../../../org/qbroker/persister/StreamPersister.html" title="class in org.qbroker.persister">StreamPersister</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">MessagePersister</span></pre>
<div class="block">MessagePersister is an interface that picks up JMS Messages from
 an XQueue as the input and persists or delivers them to their
 destinations.  The XQueue will be used as the output by either
 MessageNodes or MessageReceivers.
<br/><br/>
 MessagePersister is used as the output node in a Message Flow.
 It supports various types destinations, like JMSDestination,
 logfile, database, serial port, TCP socket, web server, ftp server,
 ssh server, smtp server, shell, etc.  Its job is to deliver the messages.
<br/><br/>
 For the transaction support of MessagePersister, it is up to the
 implementations.  If the implementation supports the transactions, the
 property of XAMode should be used to control the transactions.  If XAMode
 is set to 0, the Auto Commit should be enabled on the delivery.  Otherwise,
 the transaction should be implemented as Batch Commit.  In case the input
 XQueue is EXTERNAL_XA enabled, each delivered message has to be acknowledged.
<br/><br/>
 At any given time, MessagePersister is on one of the following 8 different
 states:
<br/>
 PSTR_READY    connected and ready to work<br/>
 PSTR_RUNNING  running normally<br/>
 PSTR_RETRYING trying to reconnect and get back to work<br/>
 PSTR_PAUSE    pausing for a bit while still connected<br/>
 PSTR_STANDBY  standby for a bit longer while still connected<br/>
 PSTR_DISABLED disabled temporarily with all connections closed<br/>
 PSTR_STOPPED  completed the job and closed all connections<br/>
 PSTR_CLOSED   closed all connections and ready to destroy object<br/>
<br/></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>yannanlu@yahoo.com</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_CLOSED">PSTR_CLOSED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_DISABLED">PSTR_DISABLED</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_PAUSE">PSTR_PAUSE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_READY">PSTR_READY</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_RETRYING">PSTR_RETRYING</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_RUNNING">PSTR_RUNNING</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_STANDBY">PSTR_STANDBY</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#PSTR_STOPPED">PSTR_STOPPED</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#close()">close</a></strong>()</code>
<div class="block">closes all opened resources</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#getCapacity()">getCapacity</a></strong>()</code>
<div class="block">returns the capacity of the InLink</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#getLinkName()">getLinkName</a></strong>()</code>
<div class="block">returns the name of the InLink</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#getName()">getName</a></strong>()</code>
<div class="block">returns the name of the persister</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#getOperation()">getOperation</a></strong>()</code>
<div class="block">returns the string of the operation</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#getStatus()">getStatus</a></strong>()</code>
<div class="block">returns the status of the persister</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#getXAMode()">getXAMode</a></strong>()</code>
<div class="block">returns the transaction mode of the persister</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#persist(org.qbroker.common.XQueue, int)">persist</a></strong>(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;in,
       int&nbsp;sleepTime)</code>
<div class="block">gets all the JMS messages from the XQueue and delivers them to
 their destinations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/qbroker/persister/MessagePersister.html#setStatus(int)">setStatus</a></strong>(int&nbsp;status)</code>
<div class="block">sets the status of the persister</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="PSTR_READY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PSTR_READY</h4>
<pre>static final&nbsp;int PSTR_READY</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_READY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PSTR_RUNNING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PSTR_RUNNING</h4>
<pre>static final&nbsp;int PSTR_RUNNING</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_RUNNING">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PSTR_RETRYING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PSTR_RETRYING</h4>
<pre>static final&nbsp;int PSTR_RETRYING</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_RETRYING">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PSTR_PAUSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PSTR_PAUSE</h4>
<pre>static final&nbsp;int PSTR_PAUSE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_PAUSE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PSTR_STANDBY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PSTR_STANDBY</h4>
<pre>static final&nbsp;int PSTR_STANDBY</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_STANDBY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PSTR_DISABLED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PSTR_DISABLED</h4>
<pre>static final&nbsp;int PSTR_DISABLED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_DISABLED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PSTR_STOPPED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PSTR_STOPPED</h4>
<pre>static final&nbsp;int PSTR_STOPPED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_STOPPED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PSTR_CLOSED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PSTR_CLOSED</h4>
<pre>static final&nbsp;int PSTR_CLOSED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.qbroker.persister.MessagePersister.PSTR_CLOSED">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="persist(org.qbroker.common.XQueue, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persist</h4>
<pre>void&nbsp;persist(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;in,
           int&nbsp;sleepTime)</pre>
<div class="block">gets all the JMS messages from the XQueue and delivers them to
 their destinations.  In case of failure, it should keep retry with
 the sleepTime in milliseconds.</div>
</li>
</ul>
<a name="getOperation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOperation</h4>
<pre>java.lang.String&nbsp;getOperation()</pre>
<div class="block">returns the string of the operation</div>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>java.lang.String&nbsp;getName()</pre>
<div class="block">returns the name of the persister</div>
</li>
</ul>
<a name="getLinkName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLinkName</h4>
<pre>java.lang.String&nbsp;getLinkName()</pre>
<div class="block">returns the name of the InLink</div>
</li>
</ul>
<a name="getStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatus</h4>
<pre>int&nbsp;getStatus()</pre>
<div class="block">returns the status of the persister</div>
</li>
</ul>
<a name="getCapacity()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCapacity</h4>
<pre>int&nbsp;getCapacity()</pre>
<div class="block">returns the capacity of the InLink</div>
</li>
</ul>
<a name="getXAMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getXAMode</h4>
<pre>int&nbsp;getXAMode()</pre>
<div class="block">returns the transaction mode of the persister</div>
</li>
</ul>
<a name="setStatus(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStatus</h4>
<pre>void&nbsp;setStatus(int&nbsp;status)</pre>
<div class="block">sets the status of the persister</div>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">closes all opened resources</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/persister/MessageEvaluator.html" title="class in org.qbroker.persister"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/qbroker/persister/MessageTerminator.html" title="class in org.qbroker.persister"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/persister/MessagePersister.html" target="_top">Frames</a></li>
<li><a href="MessagePersister.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
