<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sun Jan 12 12:41:34 EST 2020 -->
<title>XQueue</title>
<meta name="date" content="2020-01-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="XQueue";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/common/XQCallbackWrapper.html" title="class in org.qbroker.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/common/XQueue.html" target="_top">Frames</a></li>
<li><a href="XQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qbroker.common</div>
<h2 title="Interface XQueue" class="title">Interface XQueue</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/qbroker/common/IndexedXQueue.html" title="class in org.qbroker.common">IndexedXQueue</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">XQueue</span></pre>
<div class="block">XQueue is an Interface of First-In-First-Out storage with both tracking
 and transaction support.
<br><br>
 XQueue contains a fixed number of cells with unique ids. Each cell can hold
 one object.  A cell can be in one of four different states: EMPTY, RESERVED,
 OCCUPIED and TAKEN.  Only an empty cell is able to be reserved.  Only
 reserved cells can be occupied.  Once a reserved cell is occupied, the
 object can be taken by an application to process.  If an object is taken,
 the cell is in taken state, meaning the cell is not empty yet.  The object
 may be put back to its original cell or be removed from the cell.  Once the
 object is removed, the cell is empty again and it is available for a new
 reservation.  Once the object is removed from the cell, it can be collected
 either implicitly or explicitly.  If the removed object has not been
 collected yet, its empty cell is also a collectible.  The method of collect()
 is used to collect an empty cell explicity.  The method of reserve() will
 implicitly collect the cell if it has not been collected yet.
<br><br>
 Similarly, each object in an XQueue can be in one of four states, too.  Once
 an object is added to the queue or a cell is occupied by an object, it is
 new and avaiable to be taken.  Once it is taken, the object is in use.
 Next state will be either done or new due to rollback.  Once the object is
 done, it will be ready for recycle.  This state is called ready.
<br><br>
 Once the object is put into a cell, the association with the cell will
 not change until the object is removed from the cell.  Therefore, the
 unique cell IDs can be used to track or operate the objects in the queue.
 The method reserve() is to have the empty cell ready to be occupied.  The
 method cancel() cancels the reservation on the reserved cell and makes
 it empty again.  The method add() is to have the reserved cell occupied.
 Before to add, the cell has to be reserved.  The method getCellStatus() is
 used to get the status of a specific cell.  The method getNextCell() returns
 the ID of the next occupied cell and makes the cell taken so that the object
 can be retrieved via browse() for processing.  The method remove() is to
 remove the in-use object from the cell and makes the cell empty.  The method
 putback() is to put an in-use object back to the cell and to have the cell
 occupied again.  The method takeback() is to take a new object out of the
 occupied cell and makes the cell empty again.  The method browser() gives
 an instance of Browser for application to browse all the new objects.
<br><br>
 capacity -- maximum number of cells in the queue<br>
 size -- number of the new and taken objects in the queue<br>
 depth -- number of new objects in the queue<br>
 collectible -- number of empty cells that have not been collected yet<br>
 status -- status of a cell or the object<br>
 id -- the id of a cell or the object<br>
<br>
 The implementation can focus on either the objects or on the cells.  If the
 focus is on the cells, the implementation can assign an unique ID to each of
 the cells for tracking support.  The tracking support allows application to
 easily track the status of the objects via their cell IDs.
<br><br>
 It is up to the implementation to support MT-Safty and XA.
<br></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>yannanlu@yahoo.com</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#CELL_EMPTY">CELL_EMPTY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#CELL_OCCUPIED">CELL_OCCUPIED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#CELL_OUTBOUND">CELL_OUTBOUND</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#CELL_RESERVED">CELL_RESERVED</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#CELL_TAKEN">CELL_TAKEN</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#EXTERNAL_XA">EXTERNAL_XA</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#KEEP_RUNNING">KEEP_RUNNING</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#PAUSE">PAUSE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#STANDBY">STANDBY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#XQ_ERROR">XQ_ERROR</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#add-java.lang.Object-int-">add</a></span>(java.lang.Object&nbsp;obj,
   int&nbsp;index)</code>
<div class="block">adds a new object to the cell with the id and returns the depth of the
 queue upon success or -1 to indicate failure.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#add-java.lang.Object-int-org.qbroker.common.XQCallbackWrapper-">add</a></span>(java.lang.Object&nbsp;obj,
   int&nbsp;index,
   <a href="../../../org/qbroker/common/XQCallbackWrapper.html" title="class in org.qbroker.common">XQCallbackWrapper</a>&nbsp;callback)</code>
<div class="block">adds a new object and the callback wrapper to the cell with the id and
 returns the depth of the queue upon success or -1 to indicate failure.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#available--">available</a></span>()</code>
<div class="block">returns true if any new objects in the queue or false otherwise</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#browse-int-">browse</a></span>(int&nbsp;id)</code>
<div class="block">returns the object in the cell with the id or null if the id is out of
 bound or the cell at the id is empty.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../org/qbroker/common/Browser.html" title="interface in org.qbroker.common">Browser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#browser--">browser</a></span>()</code>
<div class="block">returns an instance of Browser for browsing ids of all occupied cells</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#cancel-int-">cancel</a></span>(int&nbsp;id)</code>
<div class="block">cancels the reservation on the cell with the id and returns the
 watermark upon success or -1 otherwise.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#clear--">clear</a></span>()</code>
<div class="block">clear all cells and reset all marks</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#collect-long-">collect</a></span>(long&nbsp;milliSec)</code>
<div class="block">collects the next collectible cell and returns its id</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#collect-long-int-">collect</a></span>(long&nbsp;milliSec,
       int&nbsp;id)</code>
<div class="block">collects the empty cell at the id and marks it as non-collectible.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#collect-long-int-int-">collect</a></span>(long&nbsp;milliSec,
       int&nbsp;begin,
       int&nbsp;len)</code>
<div class="block">collects the first collectible cell out of len cells starting from begin
 and returns its id</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#collectible--">collectible</a></span>()</code>
<div class="block">returns the number of collectible objects in the queue</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#depth--">depth</a></span>()</code>
<div class="block">returns the number of new objects in the queue</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getCapacity--">getCapacity</a></span>()</code>
<div class="block">returns the capacity of the queue</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getCellStatus-int-">getCellStatus</a></span>(int&nbsp;id)</code>
<div class="block">returns the status of the cell with the id</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getCount--">getCount</a></span>()</code>
<div class="block">returns the number of objects taken out of the queue since the
 reset at its timestamp</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getGlobalMask--">getGlobalMask</a></span>()</code>
<div class="block">returns the global mask of the queue</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getMTime--">getMTime</a></span>()</code>
<div class="block">returns the timestamp of the reset on the queue</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getName--">getName</a></span>()</code>
<div class="block">returns the name of the queue</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getNextCell-long-">getNextCell</a></span>(long&nbsp;milliSec)</code>
<div class="block">returns the id of the next occupied cell or -1 if there is none of
 the occupied cells available.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getNextCell-long-int-">getNextCell</a></span>(long&nbsp;milliSec,
           int&nbsp;id)</code>
<div class="block">verifies the occupency on the cell with the id and returns the id if it
 is occupied or -1 otherwise.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#getNextCell-long-int-int-">getNextCell</a></span>(long&nbsp;milliSec,
           int&nbsp;begin,
           int&nbsp;len)</code>
<div class="block">returns the id of the first available occupied cell in the range of
 len cells starting from begin or -1 if there is none of the occupied
 cells available.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#isCollectible--">isCollectible</a></span>()</code>
<div class="block">returns true if the queue supports collectible() and collect()</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#isFull--">isFull</a></span>()</code>
<div class="block">returns true if the queue is full or false otherwise</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#locate-int:A-int-int-">locate</a></span>(int[]&nbsp;ids,
      int&nbsp;begin,
      int&nbsp;len)</code>
<div class="block">locates all unreserved empty cells among the given ids in the
 list ranging from the id of begin thru the id of begin+len-1 and
 returns the number of ids found or -1 to indicate errors.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#putback-int-">putback</a></span>(int&nbsp;id)</code>
<div class="block">puts the in-use object back to the cell with the id and returns the depth
 of the queue upon success or -1 otherwise.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#remove-int-">remove</a></span>(int&nbsp;id)</code>
<div class="block">removes the in-use object from the cell with the id and returns the size
 of the queue upon success or -1 otherwise.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#reserve-long-">reserve</a></span>(long&nbsp;milliSec)</code>
<div class="block">reserves an empty cell and returns its id upon success or -1 otherwise.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#reserve-long-int-">reserve</a></span>(long&nbsp;milliSec,
       int&nbsp;id)</code>
<div class="block">reserves the empty cell with the id and returns the id upon success or -1
 otherwise.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#reserve-long-int-int-">reserve</a></span>(long&nbsp;milliSec,
       int&nbsp;begin,
       int&nbsp;len)</code>
<div class="block">reserves an empty cell in the range of len cells starting from begin
 and returns the id of the cell upon success or -1 otherwise.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#reset--">reset</a></span>()</code>
<div class="block">resets the counter to 0, updates the timestamp and returns the total
 number of objects taken out of the queue since the previous reset</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#setGlobalMask-int-">setGlobalMask</a></span>(int&nbsp;mask)</code>
<div class="block">sets the global mask of the queue</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#size--">size</a></span>()</code>
<div class="block">returns the number of objects in the queue, new and taken</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/XQueue.html#takeback-int-">takeback</a></span>(int&nbsp;index)</code>
<div class="block">takes back the new object in the cell with the id and sets the cell
 EMPTY again.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="XQ_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>XQ_ERROR</h4>
<pre>static final&nbsp;int XQ_ERROR</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.XQ_ERROR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="KEEP_RUNNING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEEP_RUNNING</h4>
<pre>static final&nbsp;int KEEP_RUNNING</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.KEEP_RUNNING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PAUSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PAUSE</h4>
<pre>static final&nbsp;int PAUSE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.PAUSE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="STANDBY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STANDBY</h4>
<pre>static final&nbsp;int STANDBY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.STANDBY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="EXTERNAL_XA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EXTERNAL_XA</h4>
<pre>static final&nbsp;int EXTERNAL_XA</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.EXTERNAL_XA">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CELL_OUTBOUND">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CELL_OUTBOUND</h4>
<pre>static final&nbsp;int CELL_OUTBOUND</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.CELL_OUTBOUND">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CELL_EMPTY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CELL_EMPTY</h4>
<pre>static final&nbsp;int CELL_EMPTY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.CELL_EMPTY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CELL_RESERVED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CELL_RESERVED</h4>
<pre>static final&nbsp;int CELL_RESERVED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.CELL_RESERVED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CELL_OCCUPIED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CELL_OCCUPIED</h4>
<pre>static final&nbsp;int CELL_OCCUPIED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.CELL_OCCUPIED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CELL_TAKEN">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CELL_TAKEN</h4>
<pre>static final&nbsp;int CELL_TAKEN</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.qbroker.common.XQueue.CELL_TAKEN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>int&nbsp;size()</pre>
<div class="block">returns the number of objects in the queue, new and taken</div>
</li>
</ul>
<a name="depth--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>depth</h4>
<pre>int&nbsp;depth()</pre>
<div class="block">returns the number of new objects in the queue</div>
</li>
</ul>
<a name="collectible--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectible</h4>
<pre>int&nbsp;collectible()</pre>
<div class="block">returns the number of collectible objects in the queue</div>
</li>
</ul>
<a name="getCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCount</h4>
<pre>long&nbsp;getCount()</pre>
<div class="block">returns the number of objects taken out of the queue since the
 reset at its timestamp</div>
</li>
</ul>
<a name="getMTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMTime</h4>
<pre>long&nbsp;getMTime()</pre>
<div class="block">returns the timestamp of the reset on the queue</div>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>long&nbsp;reset()</pre>
<div class="block">resets the counter to 0, updates the timestamp and returns the total
 number of objects taken out of the queue since the previous reset</div>
</li>
</ul>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>java.lang.String&nbsp;getName()</pre>
<div class="block">returns the name of the queue</div>
</li>
</ul>
<a name="getCapacity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCapacity</h4>
<pre>int&nbsp;getCapacity()</pre>
<div class="block">returns the capacity of the queue</div>
</li>
</ul>
<a name="getGlobalMask--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalMask</h4>
<pre>int&nbsp;getGlobalMask()</pre>
<div class="block">returns the global mask of the queue</div>
</li>
</ul>
<a name="setGlobalMask-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGlobalMask</h4>
<pre>void&nbsp;setGlobalMask(int&nbsp;mask)</pre>
<div class="block">sets the global mask of the queue</div>
</li>
</ul>
<a name="available--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>available</h4>
<pre>boolean&nbsp;available()</pre>
<div class="block">returns true if any new objects in the queue or false otherwise</div>
</li>
</ul>
<a name="isFull--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFull</h4>
<pre>boolean&nbsp;isFull()</pre>
<div class="block">returns true if the queue is full or false otherwise</div>
</li>
</ul>
<a name="isCollectible--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCollectible</h4>
<pre>boolean&nbsp;isCollectible()</pre>
<div class="block">returns true if the queue supports collectible() and collect()</div>
</li>
</ul>
<a name="getCellStatus-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCellStatus</h4>
<pre>int&nbsp;getCellStatus(int&nbsp;id)</pre>
<div class="block">returns the status of the cell with the id</div>
</li>
</ul>
<a name="collect-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collect</h4>
<pre>int&nbsp;collect(long&nbsp;milliSec,
            int&nbsp;id)</pre>
<div class="block">collects the empty cell at the id and marks it as non-collectible.
 It returns the id or -1 if the cell is not a collectible.</div>
</li>
</ul>
<a name="collect-long-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collect</h4>
<pre>int&nbsp;collect(long&nbsp;milliSec,
            int&nbsp;begin,
            int&nbsp;len)</pre>
<div class="block">collects the first collectible cell out of len cells starting from begin
 and returns its id</div>
</li>
</ul>
<a name="collect-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collect</h4>
<pre>int&nbsp;collect(long&nbsp;milliSec)</pre>
<div class="block">collects the next collectible cell and returns its id</div>
</li>
</ul>
<a name="reserve-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserve</h4>
<pre>int&nbsp;reserve(long&nbsp;milliSec)</pre>
<div class="block">reserves an empty cell and returns its id upon success or -1 otherwise.
 In case of success, it sets the cell to RESERVED so that the cell
 is available to be occupied.</div>
</li>
</ul>
<a name="reserve-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserve</h4>
<pre>int&nbsp;reserve(long&nbsp;milliSec,
            int&nbsp;id)</pre>
<div class="block">reserves the empty cell with the id and returns the id upon success or -1
 otherwise.  The operation is not supposed to change the order of other
 empty cells.</div>
</li>
</ul>
<a name="reserve-long-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reserve</h4>
<pre>int&nbsp;reserve(long&nbsp;milliSec,
            int&nbsp;begin,
            int&nbsp;len)</pre>
<div class="block">reserves an empty cell in the range of len cells starting from begin
 and returns the id of the cell upon success or -1 otherwise.  The
 operation is not supposed to change the order of other empty cells.</div>
</li>
</ul>
<a name="cancel-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>int&nbsp;cancel(int&nbsp;id)</pre>
<div class="block">cancels the reservation on the cell with the id and returns the
 watermark upon success or -1 otherwise.  In case of success, it sets
 the cell to EMPTY so that it is available for reservation again.  The
 operation is not supposed to change the order of other reserved cells.</div>
</li>
</ul>
<a name="add-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>int&nbsp;add(java.lang.Object&nbsp;obj,
        int&nbsp;index)</pre>
<div class="block">adds a new object to the cell with the id and returns the depth of the
 queue upon success or -1 to indicate failure.  In case of success, it
 sets the cell to OCCUPIED so that it is available to be taken.  The
 operation is not supposed to change the order of other reserved cells.</div>
</li>
</ul>
<a name="add-java.lang.Object-int-org.qbroker.common.XQCallbackWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>int&nbsp;add(java.lang.Object&nbsp;obj,
        int&nbsp;index,
        <a href="../../../org/qbroker/common/XQCallbackWrapper.html" title="class in org.qbroker.common">XQCallbackWrapper</a>&nbsp;callback)</pre>
<div class="block">adds a new object and the callback wrapper to the cell with the id and
 returns the depth of the queue upon success or -1 to indicate failure.
 In case of success, it sets the cell to OCCUPIED so that it is available
 to be taken.  The operation is not supposed to change the order of other
 reserved cells. The callback wrapper will be invoked when the object is
 dequeued.</div>
</li>
</ul>
<a name="takeback-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>takeback</h4>
<pre>java.lang.Object&nbsp;takeback(int&nbsp;index)</pre>
<div class="block">takes back the new object in the cell with the id and sets the cell
 EMPTY again.  It returns the object upon success or null otherwise.  The
 operation is not supposed to change the order of other occupied cells.</div>
</li>
</ul>
<a name="getNextCell-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextCell</h4>
<pre>int&nbsp;getNextCell(long&nbsp;milliSec)</pre>
<div class="block">returns the id of the next occupied cell or -1 if there is none of
 the occupied cells available.  In case of success, it sets the cell
 to TAKEN to indicate the object is in-use.</div>
</li>
</ul>
<a name="getNextCell-long-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextCell</h4>
<pre>int&nbsp;getNextCell(long&nbsp;milliSec,
                int&nbsp;begin,
                int&nbsp;len)</pre>
<div class="block">returns the id of the first available occupied cell in the range of
 len cells starting from begin or -1 if there is none of the occupied
 cells available.  In case of success, it sets the cell to TAKEN to
 indicate the object is in-use.  The operation is not supposed to
 change the order of other occupied cells.</div>
</li>
</ul>
<a name="getNextCell-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextCell</h4>
<pre>int&nbsp;getNextCell(long&nbsp;milliSec,
                int&nbsp;id)</pre>
<div class="block">verifies the occupency on the cell with the id and returns the id if it
 is occupied or -1 otherwise.  In case of verified, it sets the cell to
 TAKEN to indicate the object is in-use.  The operation is not
 supposed to change the order of other occupied cells.</div>
</li>
</ul>
<a name="browse-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>browse</h4>
<pre>java.lang.Object&nbsp;browse(int&nbsp;id)</pre>
<div class="block">returns the object in the cell with the id or null if the id is out of
 bound or the cell at the id is empty. There is no change on the status
 of the cell or object.  The application should always get the id before
 calling this method.  Otherwise, the object may be owned by others.</div>
</li>
</ul>
<a name="putback-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putback</h4>
<pre>int&nbsp;putback(int&nbsp;id)</pre>
<div class="block">puts the in-use object back to the cell with the id and returns the depth
 of the queue upon success or -1 otherwise.  In case of success, it sets
 the cell OCCUPIED again so that the object is available to be taken.
 The operation is not supposed to change the order of other taken cells.</div>
</li>
</ul>
<a name="remove-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>int&nbsp;remove(int&nbsp;id)</pre>
<div class="block">removes the in-use object from the cell with the id and returns the size
 of the queue upon success or -1 otherwise.  In case of success, it sets
 the cell to EMPTY so that it is available to be collected or reserved.
 The operation is not supposed to change the order of other taken cells.</div>
</li>
</ul>
<a name="locate-int:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locate</h4>
<pre>int&nbsp;locate(int[]&nbsp;ids,
           int&nbsp;begin,
           int&nbsp;len)</pre>
<div class="block">locates all unreserved empty cells among the given ids in the
 list ranging from the id of begin thru the id of begin+len-1 and
 returns the number of ids found or -1 to indicate errors.  All the
 found ids are stored in the list starting from begin and in the same
 order of the queue.</div>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>void&nbsp;clear()</pre>
<div class="block">clear all cells and reset all marks</div>
</li>
</ul>
<a name="browser--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>browser</h4>
<pre><a href="../../../org/qbroker/common/Browser.html" title="interface in org.qbroker.common">Browser</a>&nbsp;browser()</pre>
<div class="block">returns an instance of Browser for browsing ids of all occupied cells</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/common/XQCallbackWrapper.html" title="class in org.qbroker.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/common/XQueue.html" target="_top">Frames</a></li>
<li><a href="XQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
