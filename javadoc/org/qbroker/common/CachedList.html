<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Jul 20 07:51:51 EDT 2019 -->
<title>CachedList</title>
<meta name="date" content="2019-07-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CachedList";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/common/BytesBuffer.html" title="class in org.qbroker.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/qbroker/common/CollectibleCells.html" title="class in org.qbroker.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/common/CachedList.html" target="_top">Frames</a></li>
<li><a href="CachedList.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qbroker.common</div>
<h2 title="Class CachedList" class="title">Class CachedList</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">org.qbroker.common.AssetList</a></li>
<li>
<ul class="inheritance">
<li>org.qbroker.common.CachedList</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CachedList</span>
extends <a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></pre>
<div class="block">CachedList is an AssetList with cache and classification support.  Each
 asset consists of a well-defined (not null) object and its MedaData, as
 well as a Perl5 Pattern for classifications.  All assets in the list are
 indexed and can also be identified by their unique keys.  CachedList
 also maintains a internal cache for dynamic topics.  A topic is a text
 to be classified via the pattern match.  The classification process will
 associate a topic to a number of assets if their patterns match the text.
 In fact, CachedList is an AssetList of objects and a QuickCache of topics
 plus Patterns for classifications.
<br/></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>yannanlu@yahoo.com</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#CachedList-java.lang.String-int-">CachedList</a></span>(java.lang.String&nbsp;name,
          int&nbsp;capacity)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#CachedList-java.lang.String-int-int-int-int-">CachedList</a></span>(java.lang.String&nbsp;name,
          int&nbsp;capacity,
          int&nbsp;option,
          int&nbsp;timeout,
          int&nbsp;threshold)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#add-java.lang.String-long:A-java.lang.Object-">add</a></span>(java.lang.String&nbsp;key,
   long[]&nbsp;meta,
   java.lang.Object&nbsp;obj)</code>
<div class="block">overrides the default behavior and adds a null as the pattern</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#add-java.lang.String-long:A-java.lang.Object-int-">add</a></span>(java.lang.String&nbsp;key,
   long[]&nbsp;meta,
   java.lang.Object&nbsp;obj,
   int&nbsp;id)</code>
<div class="block">overrides the default behavior and adds a null as the pattern</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#add-java.lang.String-long:A-org.apache.oro.text.regex.Pattern-java.lang.Object-">add</a></span>(java.lang.String&nbsp;key,
   long[]&nbsp;meta,
   org.apache.oro.text.regex.Pattern&nbsp;pattern,
   java.lang.Object&nbsp;obj)</code>
<div class="block">It checks object and the existence of the key first.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#add-java.lang.String-long:A-org.apache.oro.text.regex.Pattern-java.lang.Object-int-">add</a></span>(java.lang.String&nbsp;key,
   long[]&nbsp;meta,
   org.apache.oro.text.regex.Pattern&nbsp;pattern,
   java.lang.Object&nbsp;obj,
   int&nbsp;id)</code>
<div class="block">It checks object and the existence of the key first.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../org/qbroker/common/Browser.html" title="interface in org.qbroker.common">Browser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#browser-java.lang.String-long-">browser</a></span>(java.lang.String&nbsp;topic,
       long&nbsp;currentTime)</code>
<div class="block">returns a Browser for all asset IDs associated with the topic or
 null if the topic does not exist or has expired by the time.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#clear--">clear</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#containsTopic-java.lang.String-">containsTopic</a></span>(java.lang.String&nbsp;topic)</code>
<div class="block">It only checks the existence of the topic no matter whether it has
 expired or not.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#disfragment-long-">disfragment</a></span>(long&nbsp;currentTime)</code>
<div class="block">It removes all expired topics, resets all sequence numbers and updates
 topic counts for each associated asset.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#expire-java.lang.String-long-">expire</a></span>(java.lang.String&nbsp;topic,
      long&nbsp;currentTime)</code>
<div class="block">It expires the topic and returns 0 if the ttl is larger than zero.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#finalize--">finalize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#getCount-java.lang.String-">getCount</a></span>(java.lang.String&nbsp;topic)</code>
<div class="block">returns the access count of the topic.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>org.apache.oro.text.regex.Pattern</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#getPattern-int-">getPattern</a></span>(int&nbsp;id)</code>
<div class="block">It returns the pattern for the id-th asset</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>org.apache.oro.text.regex.Pattern</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#getPattern-java.lang.String-">getPattern</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">It returns the pattern for the asset with the key</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#getTimestamp-java.lang.String-">getTimestamp</a></span>(java.lang.String&nbsp;topic)</code>
<div class="block">returns the timestamp of the topic.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#getTopicCount--">getTopicCount</a></span>()</code>
<div class="block">returns the total number of cached topics.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#getTopicCount-int-">getTopicCount</a></span>(int&nbsp;id)</code>
<div class="block">returns the number of cached topics associated to an given asset.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#getTTL-java.lang.String-">getTTL</a></span>(java.lang.String&nbsp;topic)</code>
<div class="block">returns the ttl of the topic.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#insert-java.lang.String-long:A-java.lang.Object-int-">insert</a></span>(java.lang.String&nbsp;key,
      long[]&nbsp;meta,
      java.lang.Object&nbsp;obj,
      int&nbsp;id)</code>
<div class="block">overrides the default behavior and inserts a null as the pattern</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#insert-java.lang.String-long:A-org.apache.oro.text.regex.Pattern-java.lang.Object-int-">insert</a></span>(java.lang.String&nbsp;key,
      long[]&nbsp;meta,
      org.apache.oro.text.regex.Pattern&nbsp;pattern,
      java.lang.Object&nbsp;obj,
      int&nbsp;id)</code>
<div class="block">It checks the object and the existence of the key first.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../org/qbroker/common/Browser.html" title="interface in org.qbroker.common">Browser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#insertTopic-java.lang.String-long-int-int:A-">insertTopic</a></span>(java.lang.String&nbsp;topic,
           long&nbsp;timestamp,
           int&nbsp;ttl,
           int[]&nbsp;meta)</code>
<div class="block">It checks the existence of the topic first.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#isExpired-java.lang.String-long-">isExpired</a></span>(java.lang.String&nbsp;topic,
         long&nbsp;currentTime)</code>
<div class="block">It returns true if the topic has expired, or false otherwise.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#remove-int-">remove</a></span>(int&nbsp;id)</code>
<div class="block">It removes both the object of the id and its metadata.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#remove-java.lang.String-">remove</a></span>(java.lang.String&nbsp;key)</code>
<div class="block">It removes both the object of the key and its metadata.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#sortedTopics--">sortedTopics</a></span>()</code>
<div class="block">returns an array of all existing topics in the NATURAL order.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#topicSet--">topicSet</a></span>()</code>
<div class="block">returns a Set for all cached topics no matter whether they have
 expired or not.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#touch-java.lang.String-long-">touch</a></span>(java.lang.String&nbsp;topic,
     long&nbsp;timestamp)</code>
<div class="block">It updates mtime of the topic if it has not expired yet.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#touch-java.lang.String-long-long-">touch</a></span>(java.lang.String&nbsp;topic,
     long&nbsp;timestamp,
     long&nbsp;currentTime)</code>
<div class="block">It updates mtime of the topic with a given reference time for expiration.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/common/CachedList.html#updateTopic-java.lang.String-long-int-int:A-">updateTopic</a></span>(java.lang.String&nbsp;topic,
           long&nbsp;timestamp,
           int&nbsp;ttl,
           int[]&nbsp;meta)</code>
<div class="block">As long as the topic exists, it updates the timestamp, ttl and metadata
 no matter whether the topic has expired or not.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.qbroker.common.AssetList">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.qbroker.common.<a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></h3>
<code><a href="../../../org/qbroker/common/AssetList.html#browser--">browser</a>, <a href="../../../org/qbroker/common/AssetList.html#containsKey-java.lang.String-">containsKey</a>, <a href="../../../org/qbroker/common/AssetList.html#existsID-int-">existsID</a>, <a href="../../../org/qbroker/common/AssetList.html#get-int-">get</a>, <a href="../../../org/qbroker/common/AssetList.html#get-java.lang.String-">get</a>, <a href="../../../org/qbroker/common/AssetList.html#getCapacity--">getCapacity</a>, <a href="../../../org/qbroker/common/AssetList.html#getID-java.lang.String-">getID</a>, <a href="../../../org/qbroker/common/AssetList.html#getKey-int-">getKey</a>, <a href="../../../org/qbroker/common/AssetList.html#getMetaData-int-">getMetaData</a>, <a href="../../../org/qbroker/common/AssetList.html#getMetaData-java.lang.String-">getMetaData</a>, <a href="../../../org/qbroker/common/AssetList.html#getName--">getName</a>, <a href="../../../org/qbroker/common/AssetList.html#isFull--">isFull</a>, <a href="../../../org/qbroker/common/AssetList.html#queryIDs-int:A-">queryIDs</a>, <a href="../../../org/qbroker/common/AssetList.html#replaceKey-int-java.lang.String-">replaceKey</a>, <a href="../../../org/qbroker/common/AssetList.html#rotate-int-">rotate</a>, <a href="../../../org/qbroker/common/AssetList.html#set-int-java.lang.Object-">set</a>, <a href="../../../org/qbroker/common/AssetList.html#set-java.lang.String-java.lang.Object-">set</a>, <a href="../../../org/qbroker/common/AssetList.html#size--">size</a>, <a href="../../../org/qbroker/common/AssetList.html#swap-int-int-">swap</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CachedList-java.lang.String-int-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CachedList</h4>
<pre>public&nbsp;CachedList(java.lang.String&nbsp;name,
                  int&nbsp;capacity,
                  int&nbsp;option,
                  int&nbsp;timeout,
                  int&nbsp;threshold)</pre>
</li>
</ul>
<a name="CachedList-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CachedList</h4>
<pre>public&nbsp;CachedList(java.lang.String&nbsp;name,
                  int&nbsp;capacity)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="insertTopic-java.lang.String-long-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertTopic</h4>
<pre>public&nbsp;<a href="../../../org/qbroker/common/Browser.html" title="interface in org.qbroker.common">Browser</a>&nbsp;insertTopic(java.lang.String&nbsp;topic,
                           long&nbsp;timestamp,
                           int&nbsp;ttl,
                           int[]&nbsp;meta)</pre>
<div class="block">It checks the existence of the topic first.  If the topic exists but has 
 not expired yet, it just returns the existing browser of the asset list.
 Otherwise, the topic will be inserted with the timestamp and the ttl.
 Upon success, it returns a Browser for the list of assets, or null in
 case of bad topic.  With the return Browser, it lists all the asset IDs
 that match the topic.</div>
</li>
</ul>
<a name="updateTopic-java.lang.String-long-int-int:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTopic</h4>
<pre>public&nbsp;int&nbsp;updateTopic(java.lang.String&nbsp;topic,
                       long&nbsp;timestamp,
                       int&nbsp;ttl,
                       int[]&nbsp;meta)</pre>
<div class="block">As long as the topic exists, it updates the timestamp, ttl and metadata
 no matter whether the topic has expired or not.  It returns 0 for if the
 topic has not expired yet, or 1 if the topic has expired.  If the topic
 does not exist, it just returns -1 for failure.</div>
</li>
</ul>
<a name="expire-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expire</h4>
<pre>public&nbsp;int&nbsp;expire(java.lang.String&nbsp;topic,
                  long&nbsp;currentTime)</pre>
<div class="block">It expires the topic and returns 0 if the ttl is larger than zero.
 For an evergreen topic, it just returns 1 with no changes to its state.
 If the topic does not exist, it returns -1.  The expiration action will
 not modify any metadata.</div>
</li>
</ul>
<a name="touch-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>touch</h4>
<pre>public&nbsp;int&nbsp;touch(java.lang.String&nbsp;topic,
                 long&nbsp;timestamp)</pre>
<div class="block">It updates mtime of the topic if it has not expired yet.  It retruns 0
 on success, or -1 if the topic is not found or 1 if the topic has
 expired already.</div>
</li>
</ul>
<a name="touch-java.lang.String-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>touch</h4>
<pre>public&nbsp;int&nbsp;touch(java.lang.String&nbsp;topic,
                 long&nbsp;timestamp,
                 long&nbsp;currentTime)</pre>
<div class="block">It updates mtime of the topic with a given reference time for expiration.
 It retruns 0 on success, or -1 if the topic is not found or 1 if the
 topic has expired already.</div>
</li>
</ul>
<a name="isExpired-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>public&nbsp;boolean&nbsp;isExpired(java.lang.String&nbsp;topic,
                         long&nbsp;currentTime)</pre>
<div class="block">It returns true if the topic has expired, or false otherwise.
 It throws IllegalArgumentException if the topic is not found.</div>
</li>
</ul>
<a name="containsTopic-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsTopic</h4>
<pre>public&nbsp;boolean&nbsp;containsTopic(java.lang.String&nbsp;topic)</pre>
<div class="block">It only checks the existence of the topic no matter whether it has
 expired or not.</div>
</li>
</ul>
<a name="getTopicCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopicCount</h4>
<pre>public&nbsp;int&nbsp;getTopicCount()</pre>
<div class="block">returns the total number of cached topics.</div>
</li>
</ul>
<a name="getTopicCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopicCount</h4>
<pre>public&nbsp;int&nbsp;getTopicCount(int&nbsp;id)</pre>
<div class="block">returns the number of cached topics associated to an given asset.</div>
</li>
</ul>
<a name="getTTL-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTTL</h4>
<pre>public&nbsp;int&nbsp;getTTL(java.lang.String&nbsp;topic)</pre>
<div class="block">returns the ttl of the topic.</div>
</li>
</ul>
<a name="getTimestamp-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestamp</h4>
<pre>public&nbsp;long&nbsp;getTimestamp(java.lang.String&nbsp;topic)</pre>
<div class="block">returns the timestamp of the topic.</div>
</li>
</ul>
<a name="getCount-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCount</h4>
<pre>public&nbsp;long&nbsp;getCount(java.lang.String&nbsp;topic)</pre>
<div class="block">returns the access count of the topic.</div>
</li>
</ul>
<a name="disfragment-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disfragment</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;disfragment(long&nbsp;currentTime)</pre>
<div class="block">It removes all expired topics, resets all sequence numbers and updates
 topic counts for each associated asset.  It returns an array of all
 expired topics that have been just removed.</div>
</li>
</ul>
<a name="sortedTopics--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortedTopics</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;sortedTopics()</pre>
<div class="block">returns an array of all existing topics in the NATURAL order.</div>
</li>
</ul>
<a name="topicSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>topicSet</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;topicSet()</pre>
<div class="block">returns a Set for all cached topics no matter whether they have
 expired or not.</div>
</li>
</ul>
<a name="add-java.lang.String-long:A-org.apache.oro.text.regex.Pattern-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;int&nbsp;add(java.lang.String&nbsp;key,
               long[]&nbsp;meta,
               org.apache.oro.text.regex.Pattern&nbsp;pattern,
               java.lang.Object&nbsp;obj)</pre>
<div class="block">It checks object and the existence of the key first.  If no such key
 exists,  it adds the object and the metadata to the list.  It returns
 the unique ID upon success or -1 otherwise.</div>
</li>
</ul>
<a name="add-java.lang.String-long:A-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;int&nbsp;add(java.lang.String&nbsp;key,
               long[]&nbsp;meta,
               java.lang.Object&nbsp;obj)</pre>
<div class="block">overrides the default behavior and adds a null as the pattern</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../org/qbroker/common/AssetList.html#add-java.lang.String-long:A-java.lang.Object-">add</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></code></dd>
</dl>
</li>
</ul>
<a name="add-java.lang.String-long:A-org.apache.oro.text.regex.Pattern-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;int&nbsp;add(java.lang.String&nbsp;key,
               long[]&nbsp;meta,
               org.apache.oro.text.regex.Pattern&nbsp;pattern,
               java.lang.Object&nbsp;obj,
               int&nbsp;id)</pre>
<div class="block">It checks object and the existence of the key first.  If no such key
 exists,  it reserves the id-th cell from the list and adds the object
 and the metadata to the cell with the index of id.  It returns the id
 upon success or -1 otherwise.</div>
</li>
</ul>
<a name="add-java.lang.String-long:A-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;int&nbsp;add(java.lang.String&nbsp;key,
               long[]&nbsp;meta,
               java.lang.Object&nbsp;obj,
               int&nbsp;id)</pre>
<div class="block">overrides the default behavior and adds a null as the pattern</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../org/qbroker/common/AssetList.html#add-java.lang.String-long:A-java.lang.Object-int-">add</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></code></dd>
</dl>
</li>
</ul>
<a name="insert-java.lang.String-long:A-org.apache.oro.text.regex.Pattern-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;int&nbsp;insert(java.lang.String&nbsp;key,
                  long[]&nbsp;meta,
                  org.apache.oro.text.regex.Pattern&nbsp;pattern,
                  java.lang.Object&nbsp;obj,
                  int&nbsp;id)</pre>
<div class="block">It checks the object and the existence of the key first.  If no such
 key exists,  it inserts the object and the metadata to the list right
 before the object with the id.  It returns the unique ID upon success
 or -1 otherwise.</div>
</li>
</ul>
<a name="insert-java.lang.String-long:A-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insert</h4>
<pre>public&nbsp;int&nbsp;insert(java.lang.String&nbsp;key,
                  long[]&nbsp;meta,
                  java.lang.Object&nbsp;obj,
                  int&nbsp;id)</pre>
<div class="block">overrides the default behavior and inserts a null as the pattern</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../org/qbroker/common/AssetList.html#insert-java.lang.String-long:A-java.lang.Object-int-">insert</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></code></dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;java.lang.Object&nbsp;remove(java.lang.String&nbsp;key)</pre>
<div class="block">It removes both the object of the key and its metadata.  It also cleans
 up the list on all the cached topics.  It returns the removed object
 upon success or null otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../org/qbroker/common/AssetList.html#remove-java.lang.String-">remove</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></code></dd>
</dl>
</li>
</ul>
<a name="remove-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;java.lang.Object&nbsp;remove(int&nbsp;id)</pre>
<div class="block">It removes both the object of the id and its metadata.  It also cleans
 up the list on all the cached topics.  It returns the removed object
 upon success or null otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../org/qbroker/common/AssetList.html#remove-int-">remove</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></code></dd>
</dl>
</li>
</ul>
<a name="getPattern-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPattern</h4>
<pre>public&nbsp;org.apache.oro.text.regex.Pattern&nbsp;getPattern(int&nbsp;id)</pre>
<div class="block">It returns the pattern for the id-th asset</div>
</li>
</ul>
<a name="getPattern-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPattern</h4>
<pre>public&nbsp;org.apache.oro.text.regex.Pattern&nbsp;getPattern(java.lang.String&nbsp;key)</pre>
<div class="block">It returns the pattern for the asset with the key</div>
</li>
</ul>
<a name="browser-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>browser</h4>
<pre>public&nbsp;<a href="../../../org/qbroker/common/Browser.html" title="interface in org.qbroker.common">Browser</a>&nbsp;browser(java.lang.String&nbsp;topic,
                       long&nbsp;currentTime)</pre>
<div class="block">returns a Browser for all asset IDs associated with the topic or
 null if the topic does not exist or has expired by the time.</div>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../org/qbroker/common/AssetList.html#clear--">clear</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></code></dd>
</dl>
</li>
</ul>
<a name="finalize--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../org/qbroker/common/AssetList.html#finalize--">finalize</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/qbroker/common/AssetList.html" title="class in org.qbroker.common">AssetList</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/common/BytesBuffer.html" title="class in org.qbroker.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/qbroker/common/CollectibleCells.html" title="class in org.qbroker.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/common/CachedList.html" target="_top">Frames</a></li>
<li><a href="CachedList.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
