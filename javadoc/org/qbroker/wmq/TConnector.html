<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Sat Nov 23 10:18:02 EST 2019 -->
<title>TConnector</title>
<meta name="date" content="2019-11-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TConnector";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/wmq/SimpleSecurityExit.html" title="class in org.qbroker.wmq"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/wmq/TConnector.html" target="_top">Frames</a></li>
<li><a href="TConnector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.qbroker.wmq</div>
<h2 title="Class TConnector" class="title">Class TConnector</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.qbroker.wmq.TConnector</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>javax.jms.ExceptionListener, <a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">TConnector</span>
extends java.lang.Object
implements <a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></pre>
<div class="block">TConnector connects to a topic and initializes one of the operations,
 such as sub, pub, RegSub or DeregSub.
<br/><br/>
 It supports both MQ Broker (V1) and MQSI Broker (V2) for Publication and
 Subscription.  You can choose the version by BrokerVersion.  Due to IBM's
 implementation on publish, the API for publish has some kind of transaction
 controls.  Within every 25 messages it publishes, the first message has
 the reply field enabled and the API expects the reply from the broker.
 This means the publish is no longer asynchronous.  In a distributed
 environment, if the broker is down the messages will stay in the queue.
 But the API will wait for the reply and hold the flow.  If the broker is
 not available at the publish client startup, the client will fail.
 There is a parameter to set so that the transaction size is 0.
<br/><br/>
 There are two ways to get around this problem.  The first one is to set up
 a generic publish message flow in MQSI Broker.  The flow will pick up the
 topic string from certain JMS property and add the publish header with
 the topic.  All the messages will be sent to the Publish Node.  This way,
 the client just needs to use point-to-point to publish the messages.
 The other way is to implement the message flow into publish method.
 We have implemented a simple Publication and Subscription via
 point-to-point.  In the implementation, the pub/sub header is added to
 each messages.  In case of sub, it only supports QueueStore.  You can
 choose this implementation by setting BrokerVersion to 0.  If you want to
 use this implementation, please remember to specify the full path of each
 JMS properties in the message selector.  For example, if you reference a
 property called "FileName", you have to use "Root.MQRFH2.usr.FileName".
<br/><br/>
 Here is the detail about the Pub/Sub support with point-to-point:
<br/><br/>
 (1) always assume the subscription queue is set up already.<br/>
 (2) browse SYSTEM.JMS.ADMIN.QUEUE for the clientID and subscriptionID.<br/>
 (3) if found the entry, compare the topic and the subscription queue.<br/>
 (4) if they are same, use get() rather than sub() to receive one message.<br/>
 (5) if either topic or queue is not same, unsub old topic and sub new topic
      via broker and continue to get the message.<br/>
 (6) if there is no match entry, sub the topic via broker and continue
     to get the messages.<br/>
<br/>
 This is NOT MT-Safe due to IBM's implementation on sessions and conn.
<br/></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>yannanlu@yahoo.com</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected javax.jms.TopicSession</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#tSession">tSession</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.qbroker.jms.TopicConnector">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.qbroker.jms.<a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></h3>
<code><a href="../../../org/qbroker/jms/TopicConnector.html#TC_QUEUE">TC_QUEUE</a>, <a href="../../../org/qbroker/jms/TopicConnector.html#TC_STREAM">TC_STREAM</a>, <a href="../../../org/qbroker/jms/TopicConnector.html#TC_TOPIC">TC_TOPIC</a>, <a href="../../../org/qbroker/jms/TopicConnector.html#TC_XQ">TC_XQ</a>, <a href="../../../org/qbroker/jms/TopicConnector.html#XA_CLIENT">XA_CLIENT</a>, <a href="../../../org/qbroker/jms/TopicConnector.html#XA_COMMIT">XA_COMMIT</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#TConnector-java.util.Map-">TConnector</a></span>(java.util.Map&nbsp;props)</code>
<div class="block">Creates new TConnector</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#check_subscription--">check_subscription</a></span>()</code>
<div class="block">check the subscription existence by browsing SYSTEM.JMS.ADMIN.QUEUE
  It returns 1 for subscribed, 0 for not subscribed and -1 for subscibed
  but not the same.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#close--">close</a></span>()</code>
<div class="block">closes all opened resources</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#connect--">connect</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>javax.jms.Message</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#createMessage-int-">createMessage</a></span>(int&nbsp;type)</code>
<div class="block">returns a JMS Message with the initialized JMSSession</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>javax.jms.Queue</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#createQueue-java.lang.String-">createQueue</a></span>(java.lang.String&nbsp;queueName)</code>
<div class="block">returns the queue created for the given name</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#getOperation--">getOperation</a></span>()</code>
<div class="block">returns the string of the operation</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>javax.jms.TopicPublisher</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#getTopicPublisher--">getTopicPublisher</a></span>()</code>
<div class="block">returns an on-demand publisher in a separate session</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>javax.jms.TopicSubscriber</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#getTopicSubscriber--">getTopicSubscriber</a></span>()</code>
<div class="block">returns an on-demand subscriber in a separate session</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#onException-javax.jms.JMSException-">onException</a></span>(javax.jms.JMSException&nbsp;e)</code>
<div class="block">catches JMSException of Connection asynchronously</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#pub-java.io.InputStream-">pub</a></span>(java.io.InputStream&nbsp;in)</code>
<div class="block">It reads bytes from the InputStream and publish them into a JMS topic as
 JMS messages.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#pub-org.qbroker.common.XQueue-">pub</a></span>(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)</code>
<div class="block">It gets JMS messages from the XQueue and publishes them on a JMS topic.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#publish_v0-java.lang.String-javax.jms.Message-">publish_v0</a></span>(java.lang.String&nbsp;topicName,
          javax.jms.Message&nbsp;msg)</code>
<div class="block">To support MQSI V2 broker, this method uses qSender to put the message
   with the bare V2 header that contains MQSI V2 PUB command.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#reconnect--">reconnect</a></span>()</code>
<div class="block">reconnects to the JMS server for the operation or returns error text</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#sub-java.lang.Object-">sub</a></span>(java.lang.Object&nbsp;out)</code>
<div class="block">It subscribes a JMS topic and sends the JMS messages into a output
 channel that may be a JMS destination, an OutputStream or an XQueue.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#tClose--">tClose</a></span>()</code>
<div class="block">closes the topic</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#tOpen--">tOpen</a></span>()</code>
<div class="block">opens the topic for the operation</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/qbroker/wmq/TConnector.html#tReopen--">tReopen</a></span>()</code>
<div class="block">reopens the topic for the operation</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="tSession">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tSession</h4>
<pre>protected&nbsp;javax.jms.TopicSession tSession</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TConnector-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TConnector</h4>
<pre>public&nbsp;TConnector(java.util.Map&nbsp;props)
           throws javax.jms.JMSException</pre>
<div class="block">Creates new TConnector</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="connect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>protected&nbsp;void&nbsp;connect()
                throws javax.jms.JMSException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="tOpen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tOpen</h4>
<pre>public&nbsp;void&nbsp;tOpen()
           throws javax.jms.JMSException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#tOpen--">TopicConnector</a></code></span></div>
<div class="block">opens the topic for the operation</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#tOpen--">tOpen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="tReopen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tReopen</h4>
<pre>public&nbsp;int&nbsp;tReopen()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#tReopen--">TopicConnector</a></code></span></div>
<div class="block">reopens the topic for the operation</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#tReopen--">tReopen</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
</dl>
</li>
</ul>
<a name="tClose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tClose</h4>
<pre>public&nbsp;void&nbsp;tClose()
            throws javax.jms.JMSException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#tClose--">TopicConnector</a></code></span></div>
<div class="block">closes the topic</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#tClose--">tClose</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="createMessage-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createMessage</h4>
<pre>public&nbsp;javax.jms.Message&nbsp;createMessage(int&nbsp;type)
                                throws javax.jms.JMSException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#createMessage-int-">TopicConnector</a></code></span></div>
<div class="block">returns a JMS Message with the initialized JMSSession</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#createMessage-int-">createMessage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="createQueue-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createQueue</h4>
<pre>public&nbsp;javax.jms.Queue&nbsp;createQueue(java.lang.String&nbsp;queueName)
                            throws javax.jms.JMSException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#createQueue-java.lang.String-">TopicConnector</a></code></span></div>
<div class="block">returns the queue created for the given name</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#createQueue-java.lang.String-">createQueue</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="reconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reconnect</h4>
<pre>public&nbsp;java.lang.String&nbsp;reconnect()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#reconnect--">TopicConnector</a></code></span></div>
<div class="block">reconnects to the JMS server for the operation or returns error text</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#reconnect--">reconnect</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
</dl>
</li>
</ul>
<a name="onException-javax.jms.JMSException-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onException</h4>
<pre>public&nbsp;void&nbsp;onException(javax.jms.JMSException&nbsp;e)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#onException-javax.jms.JMSException-">TopicConnector</a></code></span></div>
<div class="block">catches JMSException of Connection asynchronously</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>onException</code>&nbsp;in interface&nbsp;<code>javax.jms.ExceptionListener</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#onException-javax.jms.JMSException-">onException</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#close--">TopicConnector</a></code></span></div>
<div class="block">closes all opened resources</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#close--">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
</dl>
</li>
</ul>
<a name="sub-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sub</h4>
<pre>public&nbsp;void&nbsp;sub(java.lang.Object&nbsp;out)
         throws java.io.IOException,
                javax.jms.JMSException</pre>
<div class="block">It subscribes a JMS topic and sends the JMS messages into a output
 channel that may be a JMS destination, an OutputStream or an XQueue.
 It supports the message acknowledgement at the source.
<br/><br/>
 It catches JMSException in the operations regarding to the message
 itself, like get/set JMS properties.  In this case, it still tries to
 send the message to the output channel and logs the errors.  It
 does not catch the JMSException or IOException from the message
 transport operations, like subscribe and send.  Such Exception will be
 thrown so that the caller can handle it either to reset the connection
 or to do something else.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#sub-java.lang.Object-">sub</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="pub-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pub</h4>
<pre>public&nbsp;void&nbsp;pub(java.io.InputStream&nbsp;in)
         throws java.io.IOException,
                javax.jms.JMSException</pre>
<div class="block">It reads bytes from the InputStream and publish them into a JMS topic as
 JMS messages.  It supports flexable but static delimiters at either
 or both ends.  It also has the blind trim support at both ends.
<br/><br/>
 This is MT-Safe as long as the threads share the same offhead,
 offtail, sotBytes and eotBytes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#pub-java.io.InputStream-">pub</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="pub-org.qbroker.common.XQueue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pub</h4>
<pre>public&nbsp;void&nbsp;pub(<a href="../../../org/qbroker/common/XQueue.html" title="interface in org.qbroker.common">XQueue</a>&nbsp;xq)
         throws <a href="../../../org/qbroker/common/TimeoutException.html" title="class in org.qbroker.common">TimeoutException</a>,
                javax.jms.JMSException</pre>
<div class="block">It gets JMS messages from the XQueue and publishes them on a JMS topic. 
 It supports both transaction in the delivery session and the
 message acknowledgement at the source.
<br/><br/>
 It catches JMSException in the operations regarding to the message
 itself, like get/set JMS properties or acknowlegement. In this case,
 it removes the message from the XQueue and logs the errors.  It
 does not catch the JMSException from the message transport operations,
 like publish or commit.  Such JMSException will be thrown so that
 the caller can handle it either to reset the connection or to do
 something else.
<br/><br/>
 If the MaxIdleTime is set to none-zero, it will monitor the idle time
 and will throw TimeoutException once the idle time exceeds MaxIdleTime.
 it is up to the caller to handle this exception.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#pub-org.qbroker.common.XQueue-">pub</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../org/qbroker/common/TimeoutException.html" title="class in org.qbroker.common">TimeoutException</a></code></dd>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="getOperation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOperation</h4>
<pre>public&nbsp;java.lang.String&nbsp;getOperation()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#getOperation--">TopicConnector</a></code></span></div>
<div class="block">returns the string of the operation</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#getOperation--">getOperation</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
</dl>
</li>
</ul>
<a name="getTopicPublisher--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopicPublisher</h4>
<pre>public&nbsp;javax.jms.TopicPublisher&nbsp;getTopicPublisher()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#getTopicPublisher--">TopicConnector</a></code></span></div>
<div class="block">returns an on-demand publisher in a separate session</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#getTopicPublisher--">getTopicPublisher</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
</dl>
</li>
</ul>
<a name="getTopicSubscriber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTopicSubscriber</h4>
<pre>public&nbsp;javax.jms.TopicSubscriber&nbsp;getTopicSubscriber()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html#getTopicSubscriber--">TopicConnector</a></code></span></div>
<div class="block">returns an on-demand subscriber in a separate session</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/qbroker/jms/TopicConnector.html#getTopicSubscriber--">getTopicSubscriber</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/qbroker/jms/TopicConnector.html" title="interface in org.qbroker.jms">TopicConnector</a></code></dd>
</dl>
</li>
</ul>
<a name="check_subscription--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check_subscription</h4>
<pre>public&nbsp;int&nbsp;check_subscription()
                       throws javax.jms.JMSException</pre>
<div class="block">check the subscription existence by browsing SYSTEM.JMS.ADMIN.QUEUE
  It returns 1 for subscribed, 0 for not subscribed and -1 for subscibed
  but not the same.  In case of existence, it also set msgID.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
<a name="publish_v0-java.lang.String-javax.jms.Message-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>publish_v0</h4>
<pre>public&nbsp;void&nbsp;publish_v0(java.lang.String&nbsp;topicName,
                       javax.jms.Message&nbsp;msg)
                throws javax.jms.JMSException</pre>
<div class="block">To support MQSI V2 broker, this method uses qSender to put the message
   with the bare V2 header that contains MQSI V2 PUB command.  Therefore,
   there is no need to set up a convert flow for publish since the header
   is already in RFH2.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.jms.JMSException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/qbroker/wmq/SimpleSecurityExit.html" title="class in org.qbroker.wmq"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/qbroker/wmq/TConnector.html" target="_top">Frames</a></li>
<li><a href="TConnector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
